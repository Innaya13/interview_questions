# Java 8 и старшие версии

+ [Какие нововведения появились в java 8?](#какие-нововведения-появились-в-java-8)
+ [Нововведения Java 17 (посмотреть видео по ссылке)](#нововведения-java-17)
+ [Какие новые классы для работы с датами появились в java 8?](#какие-новые-классы-для-работы-с-датами-появились-в-java-8)
+ [Расскажите про класс Optional](#расскажите-про-класс-optional)
+ [Что такое Nashorn?](#что-такое-nashorn)
+ [Что такое jjs?](#что-такое-jjs)
+ [Какой класс появился в Java 8 для кодирования/декодирования данных?](#какой-класс-появился-в-java-8-для-одированиядекодирования-данных)
+ [Как создать Base64 кодировщик и декодировщик?](#как-создать-base64-кодировщик-и-декодировщик)
+ [Какие дополнительные методы для работы с ассоциативными массивами (maps) появились в Java 8?](#какие-дополнительные-методы-для-работы-с-ассоциативными-массивами-maps-появилисьв-java-8)
+ [Что такое LocalDateTime?](#что-такое-LocalDateTime)
+ [Что такое ZonedDateTime?](#что-такое-ZonedDateTime)
+ [Что такое Guava?](#коллекции-бывают-разные-что-такое-guava-и-с-чем-её-едят)


## Какие нововведения появились в java 8?

https://h.amazingsoftworks.com//ru/articles/216431/comments/

+ Методы интерфейсов по умолчанию;
+ Лямбда-выражения;
+ Функциональные интерфейсы;
+ Ссылки на методы и конструкторы;
+ Повторяемые аннотации; https://translated.turbopages.org/proxy_u/en-ru.ru.a35ce6af-64d9cbcd-b2f19da9-74722d776562/https/stackoverflow.com/questions/35951519/java-8-repeatable-custom-annotations
+ Аннотации на типы данных; https://habr.com/ru/articles/662023/
+ Рефлексия для параметров методов; https://javarush.com/groups/posts/2177-primerih-ispoljhzovanija-reflection
+ Stream API для работы с коллекциями;
+ Параллельная сортировка массивов; https://javarush.com/groups/posts/841-paralleljhnihe-operacii-nad-massivami-v-java-8---perevod
+ Новое API для работы с датами и временем;
+ Новый движок JavaScript Nashorn;
+ Добавлено несколько новых классов для потокобезопасной работы;
+ Добавлен новый API для Calendar и Locale;
+ Добавлена поддержка Unicode 6.2.0;
+ Добавлен стандартный класс для работы с Base64;
+ Добавлена поддержка беззнаковой арифметики;
+ Улучшена производительность конструктора java.lang.String(byte[], *) и метода java.lang.String.getBytes();
+ Новая реализация AccessController.doPrivileged, позволяющая устанавливать подмножество привилегий без необходимости проверки всех остальных уровней доступа;
+ Password-based алгоритмы стали более устойчивыми;
+ Добавлена поддержка SSL/TLS Server Name Indication (NSI) в JSSE Server;
+ Улучшено хранилище ключей (KeyStore);
+ Добавлен алгоритм SHA-224;
+ Удален мост JDBC - ODBC;
+ Удален PermGen, изменен способ хранения мета-данных классов;
+ Возможность создания профилей для платформы Java SE, которые включают в себя не всю платформу целиком, а некоторую ее часть;
+ Инструментарий
+ Добавлена утилита jjs для использования JavaScript Nashorn;
+ Команда java может запускать JavaFX приложения;
+ Добавлена утилита jdeps для анализа .class-файлов.

<img width="423" alt="image" src="https://github.com/Oknel-Vap/Interview_questions/assets/116596752/f33052de-85f4-4726-bd57-3ba9067eef2b">
<img width="796" alt="image" src="https://github.com/Oknel-Vap/Interview_questions/assets/116596752/d9a0b3ee-ede3-42b0-9067-176ee622a386">

[к оглавлению](#java-8-и-старшие-версии)

## Нововведения Java 17 

(посмотреть видео по ссылке) https://www.youtube.com/watch?v=GL6_Fc53tDw

<img width="805" alt="image" src="https://github.com/Oknel-Vap/Interview_questions/assets/116596752/5b7de126-6a56-453e-bd67-73cc0e2501fa">

https://www.youtube.com/watch?v=1WaQoBiIoK4

**Изменения в языке**

<img width="833" alt="image" src="https://github.com/Oknel-Vap/Interview_questions/assets/116596752/9ed4165a-48c0-4f82-bb13-d919b0a1fcc4">

<img width="837" alt="image" src="https://github.com/Oknel-Vap/Interview_questions/assets/116596752/a13d4b1b-216d-4ad0-96ea-cd3eba0407b8">

<img width="807" alt="image" src="https://github.com/Oknel-Vap/Interview_questions/assets/116596752/abbb40d1-cbf7-4745-b195-7f0fd2e60791">

[к оглавлению](#java-8-и-старшие-версии)

## Какие новые классы для работы с датами появились в java 8?

Новый же Java 8 Date/Time API содержит неизменные, потокобезопасные классы с продуманным дизайном на любой вкус и цвет. Содержатся они в пакете java.time

`LocalDate` – дата без времени и временных зон;

`LocalTime` – время без даты и временных зон;

`LocalDateTime` – дата и время без временных зон;

`ZonedDateTime` – дата и время с временной зоной;

`DateTimeFormatter` – форматирует даты в строки и наоборот, только для классов java.time;

`Instant` – колличество секунд с Unix epoch time (полночь 1 января 1970 UTC);

`Duration` – продолжительность в секундах и наносекундах;

`Period` – период времени в годах, месяцах и днях;

`TemporalAdjuster` – корректировщик дат (к примеру, может получить дату следующего понедельника);

https://habr.com/ru/articles/274905/

[к оглавлению](#java-8-и-старшие-версии)

## Расскажите про класс Optional

Опциональное значение Optional — это контейнер для объекта, который может содержать или не содержать значение null. Такая обёртка является удобным средством предотвращения NullPointerException, т.к. имеет некоторые функции высшего порядка, избавляющие от добавления повторяющихся if null/notNull проверок:
```java
Optional<String> optional = Optional.of(\"hello\");

optional.isPresent(); // true

optional.ifPresent(s -> System.out.println(s.length())); // 5

optional.get(); // \"hello\"

optional.orElse(\"ops...\"); // \"hello\"
```
package java.util
public final class Optional <T> - это мини-контейнер для одного единственного объекта произвольного типа. При этом объект опционален, то есть может отсутствовать.

Зачем нужен этот класс? Применяя String, нужно делать проверку на null или явно указывать аннотацию (сторонняя библиотека). Optional решает эту проблему.

<img width="825" alt="image" src="https://github.com/Oknel-Vap/Interview_questions/assets/116596752/678a75a4-ee9b-4b17-a08f-0e9483e96089">

<img width="831" alt="image" src="https://github.com/Oknel-Vap/Interview_questions/assets/116596752/fa168964-5bd6-47c3-b7a9-08f1de5653d3">

[к оглавлению](#java-8-и-старшие-версии)

## Что такое Nashorn?

не используется в современных версиях

Nashorn - это движок JavaScript, разрабатываемый на Java компанией Oracle. Призван дать возможность встраивать код JavaScript в приложения Java. В сравнении с Rhino, который поддерживается Mozilla Foundation, Nashorn обеспечивает от 2 до 10 раз более высокую производительность, так как он компилирует код и передает байт-код виртуальной машине Java непосредственно в памяти. Nashorn умеет компилировать код JavaScript и генерировать классы Java, которые загружаются специальным загрузчиком. Так же возможен вызов кода Java прямо из JavaScript.

Nashorn – это движок JavaScript, разрабатываемый на Java компанией Oracle.

Призван дать возможность встраивать код JavaScript в приложения Java. В сравнении
с Rhino, который поддерживается Mozilla Foundation, Nashorn обеспечивает от 2 до 10 раз более высокую производительность, так как он компилирует код и передает байт-код виртуальной машине Java непосредственно в памяти.

Nashorn умеет компилировать код JavaScript и генерировать классы Java, которые загружаются специальным загрузчиком. Так же возможен вызов кода Java прямо из JavaScript.

[к оглавлению](#java-8-и-старшие-версии)

## Что такое jjs?

jjs это утилита командной строки, которая позволяет исполнять программы на языке JavaScript прямо в консоли.

[к оглавлению](#java-8-и-старшие-версии)

## Какой класс появился в Java 8 для&nbsp; одирования/декодирования данных?

Используется в читалках (кодирование / декодирования в формат эл. книг)

Base64 - потокобезопасный класс, который реализует кодировщик и декодировщик данных, используя схему кодирования base64 согласно RFC 4648 и RFC 2045.

Base64 содержит 6 основных методов:

+ getEncoder()/getDecoder() - возвращает кодировщик/декодировщик base64, соответствующий стандарту RFC 4648;
+ getUrlEncoder()/getUrlDecoder() - возвращает URL-safe кодировщик/декодировщик base64, соответствующий стандарту RFC 4648;
+ etMimeEncoder()/getMimeDecoder() - возвращает MIME кодировщик/декодировщик, соответствующий стандарту RFC 2045.

[к оглавлению](#java-8-и-старшие-версии)

## Как создать Base64 кодировщик и декодировщик?
```java
// Encode

String b64 = Base64.getEncoder().encodeToString(\"input\".getBytes(\"utf-8\")); //aW5wdXQ==

// Decode

new String(Base64.getDecoder().decode(\"aW5wdXQ==\"), \"utf-8\"); //input
```
[к оглавлению](#java-8-и-старшие-версии)

## Какие дополнительные методы для работы с ассоциативными массивами (maps) появилисьв Java 8?

https://github.com/enhorse/java-interview/blob/master/java8.md

+ putIfAbsent() добавляет пару «ключ-значение», только если ключ отсутствовал:
`map.putIfAbsent(\"a\", \"Aa\");`
+ forEach() принимает функцию, которая производит операцию над каждым элементом:
`map.forEach((k, v) -> System.out.println(v));`
+ compute() создаёт или обновляет текущее значение на полученное в результате вычисления (возможно использовать ключ и текущее значение):
`map.compute(\"a\", (k, v) - String.valueOf(k).concat(v)); //[\"a\", \"aAa\"]`
+ computeIfPresent() если ключ существует, обновляет текущее значение на полученное в результате вычисления (возможно использовать ключ и текущее значение):
`map.computeIfPresent(\"a\", (k, v) - k.concat(v));`
+ computeIfAbsent() если ключ отсутствует, создаёт его со значением, которое вычисляется (возможно использовать ключ):
`map.computeIfAbsent(\"a\", k - \"A\".concat(k)); //[\"a\",\"Aa\"]`
+ getOrDefault() в случае отсутствия ключа, возвращает переданное значение по-умолчанию:
`map.getOrDefault(\"a\", \"not found\");`
+ merge() принимает ключ, значение и функцию, которая объединяет передаваемое и текущее значения. Если под заданным ключем значение отсутствует, то записывает туда передаваемое значение.
`map.merge(\"a\", \"z\", (value, newValue) - value.concat(newValue)); //[\"a\",\"Aaz\"]`

[к оглавлению](#java-8-и-старшие-версии)

## Что такое LocalDateTime?

LocalDateTime объединяет вместе LocaleDate и LocalTime, содержит дату и время в календарной системе ISO-8601 без привязки к часовому поясу. Время хранится с точностью до наносекунды.

Содержит множество удобных методов, таких как plusMinutes, plusHours, isAfter, toSecondOfDay и т.д.

[к оглавлению](#java-8-и-старшие-версии)

## Что такое ZonedDateTime?

java.time.ZonedDateTime — аналог java.util.Calendar, класс с самым полным объемом информации о  временном контексте в календарной системе ISO-8601. Включает временную зону, поэтому все операции с временными сдвигами этот класс проводит с её учётом.

[к оглавлению](#java-8-и-старшие-версии)

## Коллекции бывают разные: что такое Guava и с чем её едят? 

https://github.com/google/guava

**Что такое Guava?**

По сути — это набор основных библиотек Google для Java с открытым исходным кодом.

Внутри можно встретить библиотеку графов, новые типы коллекций (multiset etc.), различные функциональные типы, богатый набор утилит для параллелизма, обработки строк, хэширования.
+	использовать firstNonNull из класса Objects библиотеки Guava вместо записи “if else”
+	использовать Object.equals(a, b) для безопасной проверки на равенство.
+	использовать Multimap вместо Map со значениями List или Set.
+	использовать Multiset для подсчета количества вхождений объекта.

[к оглавлению](#java-8-и-старшие-версии)
